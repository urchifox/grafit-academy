function o(e){let t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}var Fe=document.body,f=o(`
  <article class="disclaimer body__disclaimer">
    <div class="disclaimer__container">
      <p class="disclaimer__heading">\u041E\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043D\u0438\u043C\u0430\u043D\u0438\u0435</p>
      <p class="disclaimer__text">\u0421\u0442\u0443\u0434\u0438\u044F Grafit \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442, \u043D\u043E \u044D\u0442\u043E\u0442 \u0441\u0430\u0439\u0442 <strong>\u043D\u0435 \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0435\u0435 \u043E\u0444\u0438\u0446\u0438\u0430\u043B\u044C\u043D\u043E\u0439 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0435\u0439</strong>. \u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044B\u0435 \u0437\u0434\u0435\u0441\u044C \u043C\u0430\u0442\u0435\u0440\u0438\u0430\u043B\u044B \u043D\u0435 \u044F\u0432\u043B\u044F\u044E\u0442\u0441\u044F \u0440\u0435\u043A\u043B\u0430\u043C\u043E\u0439, \u0440\u0430\u0437\u043C\u0435\u0449\u0435\u043D\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043D\u0435 \u0430\u043A\u0442\u0443\u0430\u043B\u044C\u043D\u0430. \u0421\u0430\u0439\u0442 \u0432\u044B\u043F\u043E\u043B\u043D\u0435\u043D \u0438\u0441\u043A\u043B\u044E\u0447\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u0432 \u0443\u0447\u0435\u0431\u043D\u044B\u0445 \u0446\u0435\u043B\u044F\u0445.</p>
      <button class="disclaimer__close">\u041F\u043E\u043D\u044F\u0442\u043D\u043E</button>
    </div>
  </article>
`),J=f.querySelector(".disclaimer__close"),Pe=()=>{Fe.prepend(f)},H=e=>{e.target.classList.contains("disclaimer")&&B()},W=()=>{B()},G=e=>{e.key==="Escape"&&(e.preventDefault(),B())};function B(){f.removeEventListener("click",H),J.removeEventListener("click",W),document.removeEventListener("keydown",G),localStorage.setItem("isDisclaimerSeen","true"),f.remove()}var Y=()=>{localStorage.getItem("isDisclaimerSeen")!=="true"&&(Pe(),f.addEventListener("click",H),J.addEventListener("click",W),document.addEventListener("keydown",G))};var K="authorization__forms-container_start",Q="authorization__forms-container_moved",y=document.querySelector(".main-nav__user-navigation"),Oe=y.querySelector("#login-temp"),Ae=document.querySelector("#authorization").content.querySelector(".authorization"),p=Ae.cloneNode(!0),_=p.querySelector(".authorization__forms-container"),X=p.querySelector("#tel-number"),Re=p.querySelector("#code"),Z=p.querySelector("#authorization-step1"),ee=p.querySelector("#authorization-step2"),te=p.querySelector("#back"),re=p.querySelector(".authorization__close"),Ne=p.querySelector("#phone-text"),Te=document.querySelector("#profile").content.querySelector(".main-nav__user-navigation-item"),q=Te.cloneNode(!0),ce=q.querySelector("#log-out"),Ie=document.querySelector("#log-in").content.querySelector(".main-nav__user-navigation-item"),F=Ie.cloneNode(!0),ne=F.querySelector("#login-btn"),$e=()=>{_.classList.remove(K),_.classList.add(Q),Ne.textContent=X.value},ie=()=>{_.classList.remove(Q),_.classList.add(K),Re.value=""},se=e=>{e.preventDefault(),$e()},ae=e=>{e.preventDefault(),h(),ze(),fe(),localStorage.setItem("isAuthorized","true")},oe=()=>{h()},pe=()=>{ie()},le=e=>{e.key==="Escape"&&(e.preventDefault(),h())},de=e=>{e.target.classList.contains("authorization")&&h()},ue=e=>{e.preventDefault(),Ue()},me=e=>{e.preventDefault(),localStorage.setItem("isAuthorized","false"),Ve()};function Ue(){p.addEventListener("click",de),document.addEventListener("keydown",le),re.addEventListener("click",oe),Z.addEventListener("submit",se),ee.addEventListener("submit",ae),te.addEventListener("click",pe),y.append(p)}function h(){ie(),X.value="",p.removeEventListener("click",de),document.removeEventListener("keydown",le),re.removeEventListener("click",oe),Z.removeEventListener("submit",se),ee.removeEventListener("submit",ae),te.removeEventListener("click",pe),p.remove()}function fe(){ce.addEventListener("click",me),y.append(q)}function Me(){ce.removeEventListener("click",me),q.remove()}function ge(){ne.addEventListener("click",ue),y.append(F)}function ze(){ne.removeEventListener("click",ue),F.remove()}function Ve(){Me(),ge()}function ke(){if(Oe.remove(),localStorage.getItem("isAuthorized")==="true"){fe();return}ge()}var s=new Map;s.set("853EBA39-329A-4DEF-ADA8-3A9870B0EB9E",{packName:"590+ Swamp Forest Vegetation Reference Pictures",price:500,previews:[{src:"refpack-14-1-h550@1x.jpg",description:""},{src:"refpack-14-2-h550@1x.jpg",description:""},{src:"refpack-14-3-h550@1x.jpg",description:""}],specialOffer:!1,popularityRate:2,type:"environment",tags:{nature:!0,city:!1}});s.set("FBD25B0D-8742-4C82-AE70-0D24027BF860",{packName:"Epic Rainforest",price:500,previews:[{src:"refpack-2-1-h550@1x.jpg",description:""},{src:"refpack-2-2-h550@1x.jpg",description:""},{src:"refpack-2-3-h550@1x.jpg",description:""}],specialOffer:!1,popularityRate:10,type:"environment",tags:{nature:!0,city:!1}});s.set("17BBF395-A40F-45F9-B360-4F5DD68866AE",{packName:"510+ Space Cowboy",price:800,previews:[{src:"refpack-3-1-h550@1x.jpg",description:""},{src:"refpack-3-2-h550@1x.jpg",description:""}],specialOffer:!1,popularityRate:9,type:"person",tags:{nudity:!1,inUnderwear:!1,inOutfit:!0}});s.set("247832B3-43EC-4C22-B618-2B46A9C63B85",{packName:"Castle",price:900,previews:[{src:"refpack-4-1-h550@1x.jpg",description:""},{src:"refpack-4-2-h550@1x.jpg",description:""},{src:"refpack-4-2-h550@1x.jpg",description:""}],specialOffer:!0,popularityRate:9,type:"environment",tags:{nature:!1,city:!0}});s.set("7C676F46-291D-46C6-A3D8-1530CF608595",{packName:"130+ Period Drama Reference Pictures",price:500,previews:[{src:"refpack-5-1-h550@1x.jpg",description:""},{src:"refpack-5-2-h550@1x.jpg",description:""},{src:"refpack-5-3-h550@1x.jpg",description:""},{src:"refpack-5-4-h550@1x.jpg",description:""}],specialOffer:!1,popularityRate:9,type:"person",tags:{nudity:!1,inUnderwear:!1,inOutfit:!0}});s.set("A463C41A-B505-44D7-B300-DB3D09819C90",{packName:"700+ Panaji Reference Pictures",price:900,previews:[{src:"refpack-6-1-h550@1x.jpg",description:""},{src:"refpack-6-2-h550@1x.jpg",description:""},{src:"refpack-6-3-h550@1x.jpg",description:""},{src:"refpack-6-4-h550@1x.jpg",description:""},{src:"refpack-6-5-h550@1x.jpg",description:""}],specialOffer:!1,popularityRate:8,type:"environment",tags:{nature:!1,city:!0}});s.set("B06D696F-2950-440D-A620-47FD0FBA63D5",{packName:"690 Dramatic Male Poses Reference Pictures",price:900,previews:[{src:"refpack-7-1-h550@1x.jpg",description:""},{src:"refpack-7-2-h550@1x.jpg",description:""},{src:"refpack-7-3-h550@1x.jpg",description:""}],specialOffer:!1,popularityRate:7,type:"person",tags:{nudity:!1,inUnderwear:!1,inOutfit:!0}});s.set("634D2AFF-68F5-435E-9203-F463F4F3B7B2",{packName:"730+ Epic Cliffs Reference Pictures",price:700,previews:[{src:"refpack-8-1-h550@1x.jpg",description:""},{src:"refpack-8-2-h550@1x.jpg",description:""},{src:"refpack-8-3-h550@1x.jpg",description:""},{src:"refpack-8-4-h550@1x.jpg",description:""},{src:"refpack-8-5-h550@1x.jpg",description:""},{src:"refpack-8-6-h550@1x.jpg",description:""}],specialOffer:!0,popularityRate:7,type:"environment",tags:{nature:!0,city:!1}});s.set("DE8351BE-D822-469C-866C-817FB59F8431",{packName:"1200+ Samurai Reference Pictures",price:500,previews:[{src:"refpack-9-1-h550@1x.jpg",description:""},{src:"refpack-9-2-h550@1x.jpg",description:""},{src:"refpack-9-3-h550@1x.jpg",description:""},{src:"refpack-9-4-h550@1x.jpg",description:""},{src:"refpack-9-5-h550@1x.jpg",description:""}],specialOffer:!0,popularityRate:5,type:"person",tags:{nudity:!1,inUnderwear:!1,inOutfit:!0}});s.set("BB5CADD4-9522-4A20-A9D1-423A00662C19",{packName:"790+Architecture Elements Reference Pictures",price:900,previews:[{src:"refpack-10-1-h550@1x.jpg",description:""},{src:"refpack-10-2-h550@1x.jpg",description:""},{src:"refpack-10-3-h550@1x.jpg",description:""},{src:"refpack-10-4-h550@1x.jpg",description:""},{src:"refpack-10-5-h550@1x.jpg",description:""}],specialOffer:!1,popularityRate:5,type:"environment",tags:{nature:!1,city:!0}});s.set("093B38E8-4248-4EC6-A602-F599F57F75CE",{packName:"320+ Swedish Soldier Reference Pictures",price:900,previews:[{src:"refpack-11-1-h550@1x.jpg",description:""},{src:"refpack-11-2-h550@1x.jpg",description:""},{src:"refpack-11-3-h550@1x.jpg",description:""},{src:"refpack-11-4-h550@1x.jpg",description:""},{src:"refpack-11-5-h550@1x.jpg",description:""},{src:"refpack-11-6-h550@1x.jpg",description:""}],specialOffer:!1,popularityRate:5,type:"person",tags:{nudity:!1,inUnderwear:!1,inOutfit:!0}});s.set("5FF15C54-3B36-4372-87FB-9434BAB60227",{packName:"900+ European Cities Reference Pictures",price:500,previews:[{src:"refpack-12-1-h550@1x.jpg",description:""},{src:"refpack-12-2-h550@1x.jpg",description:""},{src:"refpack-12-3-h550@1x.jpg",description:""}],specialOffer:!0,popularityRate:3,type:"environment",tags:{nature:!1,city:!0}});s.set("037D9794-ACA1-4D24-A1B8-361553322CE2",{packName:"Male 2 Couple 1",price:900,previews:[{src:"refpack-1-1-h550@1x.jpg",description:""},{src:"refpack-1-2-h550@1x.jpg",description:""},{src:"refpack-1-3-h550@1x.jpg",description:""},{src:"refpack-1-4-h550@1x.jpg",description:""},{src:"refpack-1-5-h550@1x.jpg",description:""},{src:"refpack-1-6-h550@1x.jpg",description:""}],specialOffer:!1,popularityRate:10,type:"person",tags:{nudity:!1,inUnderwear:!0,inOutfit:!1}});s.set("3EE3BB25-E58D-4AFA-B47B-C08C6CF43E8D",{packName:"840+ Motorcycle Reference Pictures",price:800,previews:[{src:"refpack-13-1-h550@1x.jpg",description:""},{src:"refpack-13-2-h550@1x.jpg",description:""},{src:"refpack-13-3-h550@1x.jpg",description:""},{src:"refpack-13-4-h550@1x.jpg",description:""},{src:"refpack-13-5-h550@1x.jpg",description:""},{src:"refpack-13-6-h550@1x.jpg",description:""}],specialOffer:!1,popularityRate:3,type:"person",tags:{nudity:!1,inUnderwear:!1,inOutfit:!0}});s.set("4B4FB705-6299-4F53-AECE-235BB1246DE4",{packName:"730+ Forest Historical Village Reference Pictures",price:500,previews:[{src:"refpack-15-1-h550@1x.jpg",description:""},{src:"refpack-15-2-h550@1x.jpg",description:""},{src:"refpack-15-3-h550@1x.jpg",description:""},{src:"refpack-15-4-h550@1x.jpg",description:""},{src:"refpack-15-5-h550@1x.jpg",description:""},{src:"refpack-15-6-h550@1x.jpg",description:""}],specialOffer:!0,popularityRate:1,type:"person",tags:{nudity:!1,inUnderwear:!1,inOutfit:!0}});var i={favorites:JSON.parse(localStorage.getItem("favorites"))||[],inCart:JSON.parse(localStorage.getItem("inCart"))||[],bought:JSON.parse(localStorage.getItem("bought"))||[]};var Je=(e,t)=>e.map(({src:c,description:r},n)=>`
  <li class="slider__preview-item">
    <button class="slider__preview-btn" data-id="${n}" data-link="" data-desc="">
      <img class="slider__preview-img" width="100px" height="100px" src="${t+c}" alt="${r}">
    </button>
  </li>
`).join(""),He=(e,t)=>`
  <section class="slider">
    <figure class="slider__main-illustration">
      <img class="slider__main-img" src="" alt="">
      <figcaption class="slider__desc"></figcaption>
      <button class="slider__arrow slider__arrow_left">
        <span class="visually-hidden">\u041F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0435\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435</span>
      </button>
      <button class="slider__arrow slider__arrow_right">
        <span class="visually-hidden">\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0435 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435</span>
      </button>
    </figure>
    <ul class="slider__previews">
      ${Je(e,t)}
    </ul>
  </section>
`,P=(e,t,c)=>{let r=e.querySelector(".slider__main-img"),n=e.querySelector(".slider__desc");r.src=c+t.src,n.textContent=t.description},ve=(e,t,c)=>{let r=o(He(t,c));e.append(r),r.querySelector(".slider__preview-item").classList.add("slider__preview-item_active"),P(e,t[0],c)};var _e=(e,t)=>{e.previewContainer.querySelector(".slider__preview-item_active").classList.remove("slider__preview-item_active");let r=e.picturesData[t];P(e.container,r,e.picturesAddress),e.previewContainer.children[t].classList.add("slider__preview-item_active"),e.currentPreviewIndex=t},We=(e,t)=>{let c=e.target.closest(".slider__arrow");if(!c)return;let r=c.classList.contains("slider__arrow_right")?t.currentPreviewIndex+1:t.currentPreviewIndex-1;r<0&&(r=t.picturesData.length-1),r>t.picturesData.length-1&&(r=0),_e(t,r)};function Ge(e,t){let c=e.target.closest(".slider__preview-btn");if(!c)return;let r=Number(c.dataset.id);_e(t,r)}var ye=(e,t,c)=>{let r=e.querySelector(".slider-container");ve(r,t,c);let n={root:e,container:r,previewContainer:r.querySelector(".slider__previews"),previousBtn:r.querySelector(".slider__arrow_left"),nextBtn:r.querySelector(".slider__arrow_right"),picturesData:t,picturesAddress:c,currentPreviewIndex:0},a=L=>{L.target.closest(".slider__previews")?Ge(L,n):We(L,n)};r.addEventListener("click",a)};var d="images/refpacks-covers/",he={packName:"string",price:"number",coverName:"string",previewsName:"array",specialOffer:"boolean",popularityRate:"number",type:"string",tags:"object"},O=[];for(let[,e]of s)O.push(e.price);var g=Math.min.apply(null,O),k=Math.max.apply(null,O);var S=(e,t)=>`
  <label class="buy-button" data-id="${e}">
    <input class="buy-button__checkbox" type="checkbox" name="buy" ${t?"checked":""}/>
    <span class="visually-hidden">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443</span>
  </label>
`,x=e=>{let t=e.target.closest(".buy-button"),c=t.querySelector("input"),r=t.dataset.id;c.checked?(i.inCart.push(r),A(r)):(i.inCart.splice(i.inCart.indexOf(r),1),R(r)),localStorage.setItem("inCart",JSON.stringify(i.inCart))};var C=(e,t)=>`
  <label class="favorite-button"  data-id="${e}">
    <input class="favorite-button__checkbox" name="favorite" type="checkbox" ${t?"checked":""}/>
    <span class="visually-hidden">\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u0438\u0437\u0431\u0440\u0430\u043D\u043D\u043E\u0435</span>
  </label>
`,E=e=>{let t=e.target.closest(".favorite-button"),c=t.querySelector("input"),r=t.dataset.id;c.checked?i.favorites.push(r):i.favorites.splice(i.favorites.indexOf(r),1),localStorage.setItem("favorites",JSON.stringify(i.favorites))};var Ye=document.querySelector(".pack-market"),Ke=(e,{packName:t,price:c},r,n)=>`
  <article class="pack-full pack-market__pack-full">
    <div class="pack-full_container">
      <h2 class="pack-full__name">${t}</h2>

      <div class="slider-container"></div>

      <div class="pack-full__actions-container">
        <p class="pack-full__price">${c}<span class="visually-hidden">\u0440\u0443\u0431\u043B\u0435\u0439</span></p>
        ${S(e,n)}
        ${C(e,r)}
      </div>

      <button class="pack-full__close">
        <span class="visually-hidden">\u0417\u0430\u043A\u0440\u044B\u0442\u044C \u043E\u043A\u043D\u043E \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u0430\u0446\u0438\u0438</span>
      </button>
    </div>
  </article>
`,Qe=e=>{let t=e.target.closest(".favorite-button"),c=t.querySelector("input"),r=t.dataset.id,a=document.querySelector(`.pack-card[data-id="${r}"]`).querySelector(".favorite-button input");a.checked=c.checked,E(e)},Xe=e=>{let t=e.target.closest(".buy-button"),c=t.querySelector("input"),r=t.dataset.id,a=document.querySelector(`.pack-card[data-id="${r}"]`).querySelector(".buy-button input");a.checked=c.checked,x(e)},b=(e,t)=>{let c=i.favorites.includes(e),r=i.inCart.includes(e),n=o(Ke(e,t,c,r));n.addEventListener("click",et),n.querySelector(".pack-full__close").addEventListener("click",Ze),n.querySelector('[name="buy"]').addEventListener("click",Xe),n.querySelector('[name="favorite"]').addEventListener("click",Qe),document.addEventListener("keydown",Se),Ye.append(n),ye(n,t.previews,d),document.body.classList.add("modal-open")},N=()=>{document.querySelector(".pack-full").remove(),document.removeEventListener("keydown",Se),document.body.classList.remove("modal-open")};function Ze(){N()}function Se(e){e.key==="Escape"&&N()}function et(e){e.target.classList.contains("pack-full")&&N()}var tt=document.querySelector("#cart"),v=tt.querySelector(".menu-dropdown__list"),rt=document.querySelector(".pack-market"),u=document.querySelector(".cart__counter"),ct=()=>`
  <li class="menu-dropdown__item cart__message">
    \u041A \u0441\u043E\u0436\u0430\u043B\u0435\u043D\u0438\u044E, \u0432 \u0432\u0430\u0448\u0435\u0439 \u043A\u043E\u0440\u0437\u0438\u043D\u0435 \u043F\u043E\u043A\u0430 \u0447\u0442\u043E \u043D\u0435\u0442 \u0442\u043E\u0432\u0430\u0440\u043E\u0432
  </li>
`,xe=()=>{let e=o(ct());v.append(e)},nt=(e,{packName:t,previews:c})=>`
    <li data-id="${e}" class="menu-dropdown__item">
        <a href="#" class="menu-dropdown__link">
      <img src="${d}${c[0].src}" class="cart__cover">
      ${t}
      <div class="menu-dropdown__link-comment cart__delete">
        <button class="cart__delete-button">
          <span class="visually-hidden">\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u043A\u043E\u0440\u0437\u0438\u043D\u044B</span>
        </button>
      </div>
    </a>
    </li>
`,A=e=>{v.querySelector(".cart__message")?.remove(),u.style.opacity=1;let c=s.get(e),r=o(nt(e,c));v.append(r),u.textContent=i.inCart.length},R=e=>{if(v.querySelector(`.menu-dropdown__item[data-id="${e}"]`).remove(),i.inCart.length===0){xe(),u.style.opacity=0;return}u.textContent=i.inCart.length},it=e=>{if(e.target.classList.contains("menu-dropdown__link")){e.preventDefault();let t=e.target.parentElement.dataset.id,c=s.get(t);b(t,c);return}if(e.target.closest(".cart__delete-button")){let t=e.target.closest(".menu-dropdown__item").dataset.id,r=rt.querySelector(`.pack-card[data-id="${t}"]`).querySelector(".buy-button input");r.checked=!1,i.inCart.splice(i.inCart.indexOf(t),1),R(t),localStorage.setItem("inCart",JSON.stringify(i.inCart))}},st=()=>{i.inCart.length===0?xe():(i.inCart.forEach(e=>A(e)),u.style.opacity=1),u.textContent=i.inCart.length,v.addEventListener("click",it)},Ce=()=>{st()};var T=document.querySelector(".packs-list"),Ee=document.createDocumentFragment(),at=()=>`
  <li class="pack-list-message">
    <p>\u041A \u0441\u043E\u0436\u0430\u043B\u0435\u043D\u0438\u044E, \u043F\u043E \u0432\u0430\u0448\u0435\u043C\u0443 \u0437\u0430\u043F\u0440\u043E\u0441\u0443 \u043D\u0438\u0447\u0435\u0433\u043E \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u043E :\u0441</p>
  </li>
`,ot=e=>e.map(({src:t})=>`<img src="${d}${t}" alt="" class="pack-card__cover">  `).join(""),pt=(e,{packName:t,price:c,previews:r},n,a)=>`
  <li class="pack-card" data-id="${e}">
    <h2 class="pack-card__name"><a href="#" class="pack-card__name-link">${t}</a></h2>
    <a href="#" class="pack-card__img-link" tabindex="-1">
      ${ot(r)}
    </a>
    <div class="pack-card__price-n-btns">
      <span class="pack-card__price">${c}</span>
      ${S(e,a)}
      ${C(e,n)}
    </div>
  </li>`,lt=e=>{if(e.target.classList.contains("pack-card__name-link")||e.target.classList.contains("pack-card__cover")){e.preventDefault();let t=e.target.closest(".pack-card").dataset.id,c=s.get(t);b(t,c);return}if(e.target.name==="favorite"){E(e);return}e.target.name==="buy"&&x(e)},I=e=>{if(e.length===0){let t=o(at());T.append(t);return}e.forEach(([t,c])=>{let r=i.favorites.includes(t),n=i.inCart.includes(t),a=o(pt(t,c,r,n));Ee.append(a)}),T.addEventListener("click",lt),T.append(Ee)};var dt=document.querySelector(".packs-list"),l=document.querySelector("#filters"),we=document.querySelector(".sort-options"),De=document.querySelector(".sort-order-btn__checkbox"),ut=l.querySelectorAll('.filter-btn__checkbox[name="type"]'),mt=l.querySelectorAll('.filter-btn__checkbox[name="tag"]'),ft=l.querySelector('.filter-btn__checkbox[name="specialOffer"]'),gt=l.querySelector("#slider"),w=l.querySelector('.filter-btn__price-input[name="min-interval"]'),D=l.querySelector('.filter-btn__price-input[name="max-interval"]'),$=Array.from(s),m,U=(e,t)=>{m=e(t),dt.innerHTML="",I(m)},M=e=>{let t=we.value,c=De.checked;return he[t]==="string"?c?e.slice().sort((r,n)=>r[1][t].localeCompare(n[1][t])):e.slice().sort((r,n)=>n[1][t].localeCompare(r[1][t])):c?e.slice().sort((r,n)=>r[1][t]-n[1][t]):e.slice().sort((r,n)=>n[1][t]-r[1][t])},kt=e=>e.reverse(),vt=()=>{U(M,m)},_t=()=>{U(kt,m)},yt=(e,t)=>e.filter(([,c])=>t.every(r=>r(c))),z=()=>{let e=[],t=[...ut].reduce((n,a)=>a.checked?[...n,a.value]:[...n],[]),c=[...mt].reduce((n,a)=>a.checked?[...n,a.value]:[...n],[]);(t.length>0||c.length>0)&&e.push(n=>t.includes(n.type)||Object.keys(n.tags).some(a=>c.includes(a)&&n.tags[a]===!0)),ft.checked&&e.push(n=>n.specialOffer===!0),w.value>g&&e.push(n=>n.price>=w.value),D.value<k&&e.push(n=>n.price<=D.value);let r=e.length>0?yt($,e):$;U(M,r)},be=()=>gt.noUiSlider.set([w.value,D.value]),je=()=>{m=M($),I(m),w.addEventListener("change",be),D.addEventListener("change",be),l.addEventListener("change",z),we.addEventListener("change",vt),De.addEventListener("change",_t)};var j=document.querySelector(".scroll-up"),Le="scroll-up_hidden",Be="scroll-up_shown",ht=()=>{if(window.scrollY>1e3){j.classList.remove(Le),j.classList.add(Be);return}j.classList.remove(Be),j.classList.add(Le)},qe=()=>{window.addEventListener("scroll",ht)};var V=document.getElementById("slider"),St=document.querySelector('.filter-btn__price-input[name="min-interval"]'),xt=document.querySelector('.filter-btn__price-input[name="max-interval"]');noUiSlider.create(V,{start:[g,k],connect:!0,range:{min:g,max:k},format:{to:e=>e.toFixed(0),from:Number.parseFloat}});V.noUiSlider.on("update",()=>{let[e,t]=V.noUiSlider.get();St.value=e,xt.value=t,z()});Y();ke();Ce();je();qe();
